{"remainingRequest":"/Users/marleen_dijkman/Documents/個人/vue_study/MonsterSlayer/vueapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/marleen_dijkman/Documents/個人/vue_study/MonsterSlayer/vueapp/src/components/Controls.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/marleen_dijkman/Documents/個人/vue_study/MonsterSlayer/vueapp/src/components/Controls.vue","mtime":1619076322135},{"path":"/Users/marleen_dijkman/Documents/個人/vue_study/MonsterSlayer/vueapp/node_modules/cache-loader/dist/cjs.js","mtime":1618540967654},{"path":"/Users/marleen_dijkman/Documents/個人/vue_study/MonsterSlayer/vueapp/node_modules/babel-loader/lib/index.js","mtime":1618540967651},{"path":"/Users/marleen_dijkman/Documents/個人/vue_study/MonsterSlayer/vueapp/node_modules/cache-loader/dist/cjs.js","mtime":1618540967654},{"path":"/Users/marleen_dijkman/Documents/個人/vue_study/MonsterSlayer/vueapp/node_modules/vue-loader/lib/index.js","mtime":1618540965131}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmZ1bmN0aW9uIGdldFJhbmRvbVZhbHVlKG1pbiwgbWF4KSB7CiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluKTsKfQoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICB3aW5uZXI6IFN0cmluZywKICAgIHNwZWNpYWxBdmFpbGFibGU6IEJvb2xlYW4sCiAgfSwKICB3YXRjaDogewogICAgaGVhbHRoUCh2YWx1ZSkgewogICAgICBpZiAodmFsdWUgPD0gMCAmJiB0aGlzLmhlYWx0aE5QQyA9PT0gMCkgdGhpcy53aW5uZXIgPSAiYm90aCI7CiAgICAgIGVsc2UgaWYgKHZhbHVlIDw9IDApIHRoaXMud2lubmVyID0gIk5QQyI7CiAgICB9LAogICAgaGVhbHRoTlBDKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSA8PSAwICYmIHRoaXMuaGVhbHRoUCA9PT0gMCkgdGhpcy53aW5uZXIgPSAiYm90aCI7CiAgICAgIGVsc2UgaWYgKHZhbHVlIDw9IDApIHRoaXMud2lubmVyID0gIllvdSI7CiAgICB9LAogICAgc3BlY2lhbEF0dGFja0NoYXJnZSh2YWx1ZSkgewogICAgICBpZiAodmFsdWUgPj0gMykgewogICAgICAgIHRoaXMuc3BlY2lhbEF2YWlsYWJsZSA9IHRydWU7CiAgICAgICAgdGhpcy5zcGVjaWFsQXR0YWNrQ2hhcmdlID0gMDsKICAgICAgICBjb25zb2xlLmxvZygid2F0Y2hlZCIpOwogICAgICB9CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgYXR0YWNrKG1heERhbWFnZSwgZXhlY3V0b3IpIHsKICAgICAgY29uc3QgZGFtYWdlID0gZ2V0UmFuZG9tVmFsdWUoNSwgbWF4RGFtYWdlKTsKICAgICAgdGhpcy5hZGRMb2coZXhlY3V0b3IsICJhdHRhY2siLCBkYW1hZ2UpOwogICAgICBzd2l0Y2ggKGV4ZWN1dG9yKSB7CiAgICAgICAgY2FzZSAicGxheWVyIjoKICAgICAgICAgIGlmICghdGhpcy5zcGVjaWFsQXZhaWxhYmxlKSB0aGlzLnNwZWNpYWxBdHRhY2tDaGFyZ2UrKzsKICAgICAgICAgIHRoaXMuYXR0YWNrKDI1LCAiTlBDIik7CiAgICAgICAgICBpZiAodGhpcy5oZWFsdGhOUEMgLSBkYW1hZ2UgPiAwKSB7CiAgICAgICAgICAgIHRoaXMuaGVhbHRoTlBDIC09IGRhbWFnZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmhlYWx0aE5QQyA9IDA7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiTlBDIjoKICAgICAgICAgIGlmICh0aGlzLmhlYWx0aFAgLSBkYW1hZ2UgPiAwKSB7CiAgICAgICAgICAgIHRoaXMuaGVhbHRoUCAtPSBkYW1hZ2U7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5oZWFsdGhQID0gMDsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgaGVhbCgpIHsKICAgICAgaWYgKCF0aGlzLnNwZWNpYWxBdmFpbGFibGUpIHRoaXMuc3BlY2lhbEF0dGFja0NoYXJnZSsrOwogICAgICBjb25zdCBocCA9IGdldFJhbmRvbVZhbHVlKDUsIDQwKTsKICAgICAgdGhpcy5hZGRMb2coInBsYXllciIsICJoZWFsIiwgaHApOwogICAgICB0aGlzLmhlYWx0aFAgKyBocCA+IDEwMCA/ICh0aGlzLmhlYWx0aFAgPSAxMDApIDogKHRoaXMuaGVhbHRoUCArPSBocCk7CiAgICAgIHRoaXMuYXR0YWNrKDI1LCAiTlBDIik7CiAgICB9LAogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMud2lubmVyID0gbnVsbDsKICAgICAgdGhpcy5zcGVjaWFsQXR0YWNrQ2hhcmdlID0gMzsKICAgICAgdGhpcy5oZWFsdGhOUEMgPSAxMDA7CiAgICAgIHRoaXMuaGVhbHRoUCA9IDEwMDsKICAgICAgdGhpcy5sb2dzID0gW107CiAgICB9LAogICAgc3VycmVuZGVyKCkgewogICAgICB0aGlzLmFkZExvZygicGxheWVyIiwgInN1cnJlbmRlciIpOwogICAgICB0aGlzLndpbm5lciA9ICJOUEMiOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Controls.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Controls.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <section id=\"controls\">\n    <base-button @click=\"attack(20, 'player')\">ATTACK</base-button>\n    <base-button\n      :disabled=\"!specialAvailable\"\n      @click=\"\n        attack(30, 'player');\n        specialAvailable = false;\n      \"\n    >\n      SPECIAL ATTACK\n    </base-button>\n    <base-button @click=\"heal\">HEAL</base-button>\n    <base-button @click=\"surrender\">SURRENDER</base-button>\n  </section>\n</template>\n\n<script>\nfunction getRandomValue(min, max) {\n  return Math.floor(Math.random() * (max - min) + min);\n}\n\nexport default {\n  props: {\n    winner: String,\n    specialAvailable: Boolean,\n  },\n  watch: {\n    healthP(value) {\n      if (value <= 0 && this.healthNPC === 0) this.winner = \"both\";\n      else if (value <= 0) this.winner = \"NPC\";\n    },\n    healthNPC(value) {\n      if (value <= 0 && this.healthP === 0) this.winner = \"both\";\n      else if (value <= 0) this.winner = \"You\";\n    },\n    specialAttackCharge(value) {\n      if (value >= 3) {\n        this.specialAvailable = true;\n        this.specialAttackCharge = 0;\n        console.log(\"watched\");\n      }\n    },\n  },\n  methods: {\n    attack(maxDamage, executor) {\n      const damage = getRandomValue(5, maxDamage);\n      this.addLog(executor, \"attack\", damage);\n      switch (executor) {\n        case \"player\":\n          if (!this.specialAvailable) this.specialAttackCharge++;\n          this.attack(25, \"NPC\");\n          if (this.healthNPC - damage > 0) {\n            this.healthNPC -= damage;\n            break;\n          }\n          this.healthNPC = 0;\n          break;\n\n        case \"NPC\":\n          if (this.healthP - damage > 0) {\n            this.healthP -= damage;\n            break;\n          }\n          this.healthP = 0;\n          break;\n      }\n    },\n    heal() {\n      if (!this.specialAvailable) this.specialAttackCharge++;\n      const hp = getRandomValue(5, 40);\n      this.addLog(\"player\", \"heal\", hp);\n      this.healthP + hp > 100 ? (this.healthP = 100) : (this.healthP += hp);\n      this.attack(25, \"NPC\");\n    },\n    reset() {\n      this.winner = null;\n      this.specialAttackCharge = 3;\n      this.healthNPC = 100;\n      this.healthP = 100;\n      this.logs = [];\n    },\n    surrender() {\n      this.addLog(\"player\", \"surrender\");\n      this.winner = \"NPC\";\n    },\n  },\n};\n</script>\n"]}]}